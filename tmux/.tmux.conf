# remap prefix from 'C-b' to 'C-a'
unbind C-b
set-option -g prefix C-a
bind-key C-a send-prefix

# Enable mouse control (clickable windows, panes, resizable panes)
set -g mouse on

# disable escape doing weird stuff in editors
set -s escape-time 0

# Binds
bind r source-file ~/.tmux.conf \; display-message "Config reloaded"
bind t select-window -t test \; send-keys -t test C-l "Up" Enter;
# window split
bind-key h split-window -h
bind-key v split-window

# nice reorder
bind-key C-S-Left swap-window -d -t -1
bind-key C-S-Right swap-window -d -t +1

# statusbar
set -g status-position top
set -g status-justify left
set-option -g status-style bg=default
setw -g window-status-current-style 'fg=blue,bright'

# show git repo in status
# If the window name is manually set, keep it, otherwise git repo, if not git repo, use pwd
set -g window-status-format '#I:#(if [ #{window_name} = "zsh" ]; then echo $(cd #{pane_current_path}; basename `git rev-parse --show-toplevel || pwd`|head -c 15); else echo "#{window_name}"; fi)'
set -g window-status-current-format '#I:#(if [ #{window_name} = "zsh" ]; then echo $(cd #{pane_current_path}; basename `git rev-parse --show-toplevel || pwd`|head -c 15); else echo "#{window_name}"; fi)'
set-option -g allow-rename off
set-option -g automatic-rename off # makes the fancy header stuff work better

set -g status-interval 5

# set -g status-left ''
# set -g status-left-length 20
set -g status-right '%H:%M'
set -g status-right-length 50

# Tab numbering goodies
set-option -g renumber-windows on
set -g base-index 1

# Fix colors of things within tmux
set-option -ga terminal-overrides ",xterm-256color:Tc"
